<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="./layui/css/layui.css">
  <link rel="stylesheet" href="./css/main.css">
</head>
<body>
	<div class="tDiv">
                    <div class="switch " title="否" onclick="listTable.switchBt(this, 'toggle_show_in_nav', 14)">
                      <div class="circle"></div>
                    </div>
                    <input type="hidden" value="0" name="">
                  </div>
   
</body>
 <script src="http://www.jq22.com/jquery/jquery-2.1.1.js"></script>
<!-- <script src="./js/listtable.js"></script> -->
<script type="text/javascript">
  var listTable = new Object;
listTable.switchBt = function(obj, act, id)
{
  var obj = $(obj);
  var val = (obj.attr('class').match(/active/i)) ? 0 : 1;
  var res = Ajax.call(this.url, "act="+act+"&val=" + val + "&id=" +id, null, "POST", "JSON", false);
  
  /* 判断是否唯一 */
  var type = obj.data("type");
  
  if (res.message)
  {
    pbDialog(res.message,"",0);
  }

  if (res.error == 0)
  {
    obj.src = (res.content > 0) ? 'images/yes.gif' : 'images/no.gif';
  if (!res.message) {
            if (obj.hasClass("active")) {
                obj.removeClass("active");
                obj.next("input[type='hidden']").val(0);
                obj.attr("title", "否");
            } else {
                obj.addClass("active");
                obj.next("input[type='hidden']").val(1);
                obj.attr("title", "是");
            }
        }
  }
  if(type == "only"){
   obj.parents("tr").siblings().find(".switch").removeClass("active").attr("title","否");
   obj.parents("tr").siblings().find(".switch").next("input[type='hidden']").val(0);
  }
}
</script>
</html>