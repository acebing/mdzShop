{extend name="public/layout" /}
{block name='menu'}
{include file='mallsite/menu' /}
{/block}
  {block name='body'}
  	<span class="layui-breadcrumb">
     <a href="">平台设置</a>
     <a><cite>添加oss</cite></a>
   </span>
   <div class="layui-tab-content">
    <div class="explanation mdz-m-b20" id="explanation">
      <div class="ex_tit">
        <i class="sc_icon"></i>
        <h4>操作提示</h4>
        <span id="explanationZoom" title="收起提示"></span>
      </div>
      <ul>
        <li>标识“<em>*</em>”的选项为必填项，其余为选填项。</li>
        <li>填写在阿里云创建的OSS信息。</li>
        <li>需要在系统设置-&gt;商品设置-&gt;扩展信息中开启该功能即可使用。</li>
      </ul>
    </div>
    <div class="flexilist">
      <div class="common-content">
        <div class="mian-info">
          <form action="oss_configure.php" method="post" name="theForm" enctype="multipart/form-data" id="oss_configure_form" novalidate="novalidate">
            <div class="switch_info">
              <div class="item">
                <div class="label"><span class="require-field">*</span>Bucket名称：</div>
                <div class="label_value">
                  <input type="text" name="bucket" value="" size="55" class="text">
                  <div class="form_prompt"></div>
                  <div class="notic">与阿里云OSS开通对象名称一致</div>  
                </div>
              </div>
              <div class="item">
                <div class="label"><span class="require-field">*</span>AccessKeyID：</div>
                <div class="label_value">
                  <input type="text" name="keyid" value="" size="55" class="text">
                  <div class="form_prompt"></div>
                  <div class="notic">填写阿里云Access Key管理的(ID)</div> 
                </div>
              </div>                
              <div class="item">
                <div class="label"><span class="require-field">*</span>AccessKeySecret：</div>
                <div class="label_value">
                  <input type="text" name="keysecret" value="" size="55" class="text">
                  <div class="form_prompt"></div>
                  <div class="notic">填写阿里云Access Key管理的(Secret)</div> 
                </div>
              </div>
              <div class="item" style="margin-bottom:0px;">
                <div class="label">域名绑定：</div>
                <div class="label_value">
                  <div class="checkbox_items">
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="is_cname" id="is_cname_0" value="0" checked="true">
                      <label for="is_cname_0" class="ui-radio-label">关闭</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="is_cname" id="is_cname_1" value="1">
                      <label for="is_cname_1" class="ui-radio-label">开启</label>
                    </div>
                  </div>  
                </div>
              </div>    
              <div class="item">
                <div class="label">&nbsp;</div>
                <div class="label_value">
                  <div class="notic">默认选关闭，官方建议开启绑定域名，域名格式：http://xx.xxxx.com/（不可绑定当前网站域名，建议新开二级域名）</div> 
                </div>
              </div>            
              <div class="item" id="iscname" style="display:none">
                <div class="label"><span class="require-field">*</span>&nbsp;EndPoint：</div>
                <div class="label_value">
                  <input type="text" name="endpoint" value="" size="55" class="text">
                </div>
              </div>
              <div class="item">
                <div class="label">Bucket地域：</div>
                <div class="label_value">
                  <div class="checkbox_items" style="width:800px;">
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_shanghai" value="shanghai" checked="true">
                      <label for="regional_shanghai" class="ui-radio-label">中国（上海：华东 2）</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_hangzhou" value="hangzhou">
                      <label for="regional_hangzhou" class="ui-radio-label">中国（杭州：华东 1）</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_shenzhen" value="shenzhen">
                      <label for="regional_shenzhen" class="ui-radio-label">中国（深圳：华南 1）</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_beijing" value="beijing">
                      <label for="regional_beijing" class="ui-radio-label">中国（北京：华北 2）</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_qingdao" value="qingdao">
                      <label for="regional_qingdao" class="ui-radio-label">中国（青岛：华北 1）</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_hongkong" value="hongkong">
                      <label for="regional_hongkong" class="ui-radio-label">中国（香港）</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_us_west_1" value="us-west-1">
                      <label for="regional_us_west_1" class="ui-radio-label">美国西部 1 (硅谷)</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_us_east_1" value="us-east-1">
                      <label for="regional_us_east_1" class="ui-radio-label">美国东部 1 (弗吉尼亚)</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_ap_southeast_1" value="ap-southeast-1">
                      <label for="regional_ap_southeast_1" class="ui-radio-label">亚太东南 1 (新加坡)</label>
                    </div>  
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="regional" id="regional_ap_northeast_1" value="ap-northeast-1">
                      <label for="regional_ap_northeast_1" class="ui-radio-label">亚太东北 1 (日本)</label>
                    </div>                      
                  </div>
                </div>
              </div>
              <div class="item">
                <div class="label">是否使用：</div>
                <div class="label_value">
                  <div class="checkbox_items">
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="is_use" id="is_use_0" value="0" checked="true">
                      <label for="is_use_0" class="ui-radio-label">否</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="is_use" id="is_use_1" value="1">
                      <label for="is_use_1" class="ui-radio-label">是</label>
                    </div>
                  </div>  
                </div>
              </div>
              <div class="item">
                <div class="label">是否删除图片：</div>
                <div class="label_value">
                  <div class="checkbox_items">
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="is_delimg" id="delimg_0" value="0" checked="true">
                      <label for="delimg_0" class="ui-radio-label">否</label>
                    </div>
                    <div class="checkbox_item">
                      <input type="radio" class="ui-radio" name="is_delimg" id="delimg_1" value="1">
                      <label for="delimg_1" class="ui-radio-label">是</label>
                    </div>
                  </div>  
                </div>
              </div>                  
              <div class="item">
                <div class="label">&nbsp;</div>
                <div class="label_value info_btn">
                  <input type="hidden" name="id" value="">
                  <input class="button" type="submit" value=" 确定 " id="submitBtn">
                  <input class="button button_reset" type="reset" value=" 重置 ">
                  <input type="hidden" name="act" value="insert">
                </div>
              </div>                
            </div>
          </form>
        </div>
      </div>
    </div>
 {/block}
{block name='js'}
<script type="text/javascript">
      //表单验证
$(function(){
  $("#submitBtn").click(function(){
    if($("#user_form").valid()){
      $("#user_form").submit();
    }
  });

  $('#oss_configure_form').validate({
    errorPlacement:function(error, element){
      var error_div = element.parents('div.label_value').find('div.form_prompt');
      element.parents('div.label_value').find(".notic").hide();
      error_div.append(error);
    },
    rules : {
      bucket : {
        required : true
      },
      keyid : {
        required : true
      },
      keysecret : {
        required : true,
        minlength:6
      }

    },
    messages : {
      bucket : {
        required : '<i class="icon icon-exclamation-sign"></i>'+'Bucket名称不能为空'
      },
      keyid : {
        required : '<i class="icon icon-exclamation-sign"></i>'+'AccessKeyID不能为空'
        
      },
      keysecret : {
        required : '<i class="icon icon-exclamation-sign"></i>'+'AccessKeySecret不能为空'
        
      }
     
    }
  });
});
  </script>
  {/block}